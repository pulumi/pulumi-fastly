// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package fastly

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-fastly/sdk/v11/go/fastly/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Defines a map of Fastly dictionary items that can be used to populate a service dictionary.  This resource will populate a dictionary with the items and will track their state.
//
// > **Warning:** This provider will take precedence over any changes you make in the UI or API. Such changes are likely to be reversed if you run the provider again.
//
// > **Note:** By default the Terraform provider allows you to externally manage the items via API or UI.
// If you wish to apply your changes in the HCL, then you should explicitly set the `manageItems` attribute. An example of this configuration is provided below.
//
// ## Limitations
//
// - `writeOnly` dictionaries are not supported
//
// ## Example Usage
//
// ### Basic usage:
//
// ### Complex object usage:
//
// ### Expression and functions usage:
//
// ### Terraform >= 0.12.0 && < 0.12.6)
//
// `forEach` attributes were not available in Terraform before 0.12.6, however, users can still use `for` expressions to achieve
// similar behaviour as seen in the example below.
//
// > **Warning:** Terraform might not properly calculate implicit dependencies on computed attributes when using `for` expressions
//
// For scenarios such as adding a Dictionary to a service and at the same time, creating the Dictionary entries (`ServiceDictionaryItems`)
// resource, Terraform will not calculate implicit dependencies correctly on `for` expressions. This will result in index lookup
// problems and the execution will fail.
//
// For those scenarios, it's recommended to split the changes into two distinct steps:
//
// 1. Add the `dictionary` block to the `ServiceVcl` and apply the changes
// 2. Add the `ServiceDictionaryItems` resource with the `for` expressions to the HCL and apply the changes
//
// Usage:
//
// ### Reapplying original items with `managedItems` if the state of the items drifts
//
// By default the user is opted out from reapplying the original changes if the items are managed externally.
// The following example demonstrates how the `manageItems` field can be used to reapply the changes defined in the HCL if the state of the items drifts.
// When the value is explicitly set to 'true', Terraform will keep the original changes and discard any other changes made under this resource outside of Terraform.
//
// > **Warning:** You will lose externally managed items if `manage_items=true`.
//
// > **Note:** The `ignoreChanges` built-in meta-argument takes precedence over `manageItems` regardless of its value.
//
// ## Import
//
// > **Note:** The dictionary resource should be empty before importing
//
// This is an example of the import command being applied to the resource named `fastly_service_dictionary_items.items`
// The resource ID is a combined value of the `serviceId` and `dictionaryId` separated by a forward slash.
//
// ```sh
// $ pulumi import fastly:index/serviceDictionaryItems:ServiceDictionaryItems items xxxxxxxxxxxxxxxxxxxx/xxxxxxxxxxxxxxxxxxxx
// ```
//
// If Terraform is already managing remote dictionary items against a resource being imported then the user will be asked to remove it from the existing Terraform state.
// The following is an example of the Terraform state command to remove the resource named `fastly_service_dictionary_items.items` from the Terraform state file.
//
// ```sh
// $ terraform state rm fastly_service_dictionary_items.items
// ```
type ServiceDictionaryItems struct {
	pulumi.CustomResourceState

	// The ID of the dictionary that the items belong to
	DictionaryId pulumi.StringOutput `pulumi:"dictionaryId"`
	// A map representing an entry in the dictionary, (key/value)
	Items pulumi.StringMapOutput `pulumi:"items"`
	// Whether to reapply changes if the state of the items drifts, i.e. if items are managed externally
	ManageItems pulumi.BoolPtrOutput `pulumi:"manageItems"`
	// The ID of the service that the dictionary belongs to
	ServiceId pulumi.StringOutput `pulumi:"serviceId"`
}

// NewServiceDictionaryItems registers a new resource with the given unique name, arguments, and options.
func NewServiceDictionaryItems(ctx *pulumi.Context,
	name string, args *ServiceDictionaryItemsArgs, opts ...pulumi.ResourceOption) (*ServiceDictionaryItems, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.DictionaryId == nil {
		return nil, errors.New("invalid value for required argument 'DictionaryId'")
	}
	if args.ServiceId == nil {
		return nil, errors.New("invalid value for required argument 'ServiceId'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource ServiceDictionaryItems
	err := ctx.RegisterResource("fastly:index/serviceDictionaryItems:ServiceDictionaryItems", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetServiceDictionaryItems gets an existing ServiceDictionaryItems resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetServiceDictionaryItems(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *ServiceDictionaryItemsState, opts ...pulumi.ResourceOption) (*ServiceDictionaryItems, error) {
	var resource ServiceDictionaryItems
	err := ctx.ReadResource("fastly:index/serviceDictionaryItems:ServiceDictionaryItems", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering ServiceDictionaryItems resources.
type serviceDictionaryItemsState struct {
	// The ID of the dictionary that the items belong to
	DictionaryId *string `pulumi:"dictionaryId"`
	// A map representing an entry in the dictionary, (key/value)
	Items map[string]string `pulumi:"items"`
	// Whether to reapply changes if the state of the items drifts, i.e. if items are managed externally
	ManageItems *bool `pulumi:"manageItems"`
	// The ID of the service that the dictionary belongs to
	ServiceId *string `pulumi:"serviceId"`
}

type ServiceDictionaryItemsState struct {
	// The ID of the dictionary that the items belong to
	DictionaryId pulumi.StringPtrInput
	// A map representing an entry in the dictionary, (key/value)
	Items pulumi.StringMapInput
	// Whether to reapply changes if the state of the items drifts, i.e. if items are managed externally
	ManageItems pulumi.BoolPtrInput
	// The ID of the service that the dictionary belongs to
	ServiceId pulumi.StringPtrInput
}

func (ServiceDictionaryItemsState) ElementType() reflect.Type {
	return reflect.TypeOf((*serviceDictionaryItemsState)(nil)).Elem()
}

type serviceDictionaryItemsArgs struct {
	// The ID of the dictionary that the items belong to
	DictionaryId string `pulumi:"dictionaryId"`
	// A map representing an entry in the dictionary, (key/value)
	Items map[string]string `pulumi:"items"`
	// Whether to reapply changes if the state of the items drifts, i.e. if items are managed externally
	ManageItems *bool `pulumi:"manageItems"`
	// The ID of the service that the dictionary belongs to
	ServiceId string `pulumi:"serviceId"`
}

// The set of arguments for constructing a ServiceDictionaryItems resource.
type ServiceDictionaryItemsArgs struct {
	// The ID of the dictionary that the items belong to
	DictionaryId pulumi.StringInput
	// A map representing an entry in the dictionary, (key/value)
	Items pulumi.StringMapInput
	// Whether to reapply changes if the state of the items drifts, i.e. if items are managed externally
	ManageItems pulumi.BoolPtrInput
	// The ID of the service that the dictionary belongs to
	ServiceId pulumi.StringInput
}

func (ServiceDictionaryItemsArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*serviceDictionaryItemsArgs)(nil)).Elem()
}

type ServiceDictionaryItemsInput interface {
	pulumi.Input

	ToServiceDictionaryItemsOutput() ServiceDictionaryItemsOutput
	ToServiceDictionaryItemsOutputWithContext(ctx context.Context) ServiceDictionaryItemsOutput
}

func (*ServiceDictionaryItems) ElementType() reflect.Type {
	return reflect.TypeOf((**ServiceDictionaryItems)(nil)).Elem()
}

func (i *ServiceDictionaryItems) ToServiceDictionaryItemsOutput() ServiceDictionaryItemsOutput {
	return i.ToServiceDictionaryItemsOutputWithContext(context.Background())
}

func (i *ServiceDictionaryItems) ToServiceDictionaryItemsOutputWithContext(ctx context.Context) ServiceDictionaryItemsOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ServiceDictionaryItemsOutput)
}

// ServiceDictionaryItemsArrayInput is an input type that accepts ServiceDictionaryItemsArray and ServiceDictionaryItemsArrayOutput values.
// You can construct a concrete instance of `ServiceDictionaryItemsArrayInput` via:
//
//	ServiceDictionaryItemsArray{ ServiceDictionaryItemsArgs{...} }
type ServiceDictionaryItemsArrayInput interface {
	pulumi.Input

	ToServiceDictionaryItemsArrayOutput() ServiceDictionaryItemsArrayOutput
	ToServiceDictionaryItemsArrayOutputWithContext(context.Context) ServiceDictionaryItemsArrayOutput
}

type ServiceDictionaryItemsArray []ServiceDictionaryItemsInput

func (ServiceDictionaryItemsArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ServiceDictionaryItems)(nil)).Elem()
}

func (i ServiceDictionaryItemsArray) ToServiceDictionaryItemsArrayOutput() ServiceDictionaryItemsArrayOutput {
	return i.ToServiceDictionaryItemsArrayOutputWithContext(context.Background())
}

func (i ServiceDictionaryItemsArray) ToServiceDictionaryItemsArrayOutputWithContext(ctx context.Context) ServiceDictionaryItemsArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ServiceDictionaryItemsArrayOutput)
}

// ServiceDictionaryItemsMapInput is an input type that accepts ServiceDictionaryItemsMap and ServiceDictionaryItemsMapOutput values.
// You can construct a concrete instance of `ServiceDictionaryItemsMapInput` via:
//
//	ServiceDictionaryItemsMap{ "key": ServiceDictionaryItemsArgs{...} }
type ServiceDictionaryItemsMapInput interface {
	pulumi.Input

	ToServiceDictionaryItemsMapOutput() ServiceDictionaryItemsMapOutput
	ToServiceDictionaryItemsMapOutputWithContext(context.Context) ServiceDictionaryItemsMapOutput
}

type ServiceDictionaryItemsMap map[string]ServiceDictionaryItemsInput

func (ServiceDictionaryItemsMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ServiceDictionaryItems)(nil)).Elem()
}

func (i ServiceDictionaryItemsMap) ToServiceDictionaryItemsMapOutput() ServiceDictionaryItemsMapOutput {
	return i.ToServiceDictionaryItemsMapOutputWithContext(context.Background())
}

func (i ServiceDictionaryItemsMap) ToServiceDictionaryItemsMapOutputWithContext(ctx context.Context) ServiceDictionaryItemsMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ServiceDictionaryItemsMapOutput)
}

type ServiceDictionaryItemsOutput struct{ *pulumi.OutputState }

func (ServiceDictionaryItemsOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**ServiceDictionaryItems)(nil)).Elem()
}

func (o ServiceDictionaryItemsOutput) ToServiceDictionaryItemsOutput() ServiceDictionaryItemsOutput {
	return o
}

func (o ServiceDictionaryItemsOutput) ToServiceDictionaryItemsOutputWithContext(ctx context.Context) ServiceDictionaryItemsOutput {
	return o
}

// The ID of the dictionary that the items belong to
func (o ServiceDictionaryItemsOutput) DictionaryId() pulumi.StringOutput {
	return o.ApplyT(func(v *ServiceDictionaryItems) pulumi.StringOutput { return v.DictionaryId }).(pulumi.StringOutput)
}

// A map representing an entry in the dictionary, (key/value)
func (o ServiceDictionaryItemsOutput) Items() pulumi.StringMapOutput {
	return o.ApplyT(func(v *ServiceDictionaryItems) pulumi.StringMapOutput { return v.Items }).(pulumi.StringMapOutput)
}

// Whether to reapply changes if the state of the items drifts, i.e. if items are managed externally
func (o ServiceDictionaryItemsOutput) ManageItems() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *ServiceDictionaryItems) pulumi.BoolPtrOutput { return v.ManageItems }).(pulumi.BoolPtrOutput)
}

// The ID of the service that the dictionary belongs to
func (o ServiceDictionaryItemsOutput) ServiceId() pulumi.StringOutput {
	return o.ApplyT(func(v *ServiceDictionaryItems) pulumi.StringOutput { return v.ServiceId }).(pulumi.StringOutput)
}

type ServiceDictionaryItemsArrayOutput struct{ *pulumi.OutputState }

func (ServiceDictionaryItemsArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ServiceDictionaryItems)(nil)).Elem()
}

func (o ServiceDictionaryItemsArrayOutput) ToServiceDictionaryItemsArrayOutput() ServiceDictionaryItemsArrayOutput {
	return o
}

func (o ServiceDictionaryItemsArrayOutput) ToServiceDictionaryItemsArrayOutputWithContext(ctx context.Context) ServiceDictionaryItemsArrayOutput {
	return o
}

func (o ServiceDictionaryItemsArrayOutput) Index(i pulumi.IntInput) ServiceDictionaryItemsOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *ServiceDictionaryItems {
		return vs[0].([]*ServiceDictionaryItems)[vs[1].(int)]
	}).(ServiceDictionaryItemsOutput)
}

type ServiceDictionaryItemsMapOutput struct{ *pulumi.OutputState }

func (ServiceDictionaryItemsMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ServiceDictionaryItems)(nil)).Elem()
}

func (o ServiceDictionaryItemsMapOutput) ToServiceDictionaryItemsMapOutput() ServiceDictionaryItemsMapOutput {
	return o
}

func (o ServiceDictionaryItemsMapOutput) ToServiceDictionaryItemsMapOutputWithContext(ctx context.Context) ServiceDictionaryItemsMapOutput {
	return o
}

func (o ServiceDictionaryItemsMapOutput) MapIndex(k pulumi.StringInput) ServiceDictionaryItemsOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *ServiceDictionaryItems {
		return vs[0].(map[string]*ServiceDictionaryItems)[vs[1].(string)]
	}).(ServiceDictionaryItemsOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*ServiceDictionaryItemsInput)(nil)).Elem(), &ServiceDictionaryItems{})
	pulumi.RegisterInputType(reflect.TypeOf((*ServiceDictionaryItemsArrayInput)(nil)).Elem(), ServiceDictionaryItemsArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*ServiceDictionaryItemsMapInput)(nil)).Elem(), ServiceDictionaryItemsMap{})
	pulumi.RegisterOutputType(ServiceDictionaryItemsOutput{})
	pulumi.RegisterOutputType(ServiceDictionaryItemsArrayOutput{})
	pulumi.RegisterOutputType(ServiceDictionaryItemsMapOutput{})
}
