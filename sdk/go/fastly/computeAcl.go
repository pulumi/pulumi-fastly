// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package fastly

import (
	"context"
	"reflect"

	"github.com/pulumi/pulumi-fastly/sdk/v11/go/fastly/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Provides a Compute Access Control List (ACL) that defines CIDR-based access rules (e.g., allow/block IP ranges) and is accessible to Compute services during request processing.
//
// In order for a Compute ACL (`ComputeAcl`) to be accessible to a [Compute](https://developer.fastly.com/learning/compute/) service you'll first need to define a Compute service (`ServiceCompute`) in your configuration, and then create a link to the ACL from within the service using the `resourceLink` block (shown in the below examples).
//
// ## Example Usage
//
// Basic usage:
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-fastly/sdk/v11/go/fastly"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			// IMPORTANT: Deleting a Compute ACL requires first deleting its resource_link.
//			// This requires a two-step `pulumi up` because we can't guarantee deletion order.
//			exampleComputeAcl, err := fastly.NewComputeAcl(ctx, "example", &fastly.ComputeAclArgs{
//				Name: pulumi.String("my_compute_acl"),
//			})
//			if err != nil {
//				return err
//			}
//			example, err := fastly.GetPackageHash(ctx, &fastly.GetPackageHashArgs{
//				Filename: pulumi.StringRef("package.tar.gz"),
//			}, nil)
//			if err != nil {
//				return err
//			}
//			_, err = fastly.NewServiceCompute(ctx, "example", &fastly.ServiceComputeArgs{
//				Name: pulumi.String("my_compute_service"),
//				Domains: fastly.ServiceComputeDomainArray{
//					&fastly.ServiceComputeDomainArgs{
//						Name: pulumi.String("demo.example.com"),
//					},
//				},
//				Package: &fastly.ServiceComputePackageArgs{
//					Filename:       pulumi.String("package.tar.gz"),
//					SourceCodeHash: pulumi.String(example.Hash),
//				},
//				ResourceLinks: fastly.ServiceComputeResourceLinkArray{
//					&fastly.ServiceComputeResourceLinkArgs{
//						Name:       pulumi.String("my_acl_link"),
//						ResourceId: exampleComputeAcl.ID(),
//					},
//				},
//				ForceDestroy: pulumi.Bool(true),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// Fastly Compute ACLs can be imported using their ACL ID, e.g.
//
// ```sh
// $ pulumi import fastly:index/computeAcl:ComputeAcl example <compute_acl_id>
// ```
type ComputeAcl struct {
	pulumi.CustomResourceState

	// A unique name to identify the Compute ACL. It is important to note that changing this attribute will delete and recreate the Compute ACL, and discard the current entries. You MUST first delete the associated resourceLink block from your service before modifying this field.
	Name pulumi.StringOutput `pulumi:"name"`
}

// NewComputeAcl registers a new resource with the given unique name, arguments, and options.
func NewComputeAcl(ctx *pulumi.Context,
	name string, args *ComputeAclArgs, opts ...pulumi.ResourceOption) (*ComputeAcl, error) {
	if args == nil {
		args = &ComputeAclArgs{}
	}

	opts = internal.PkgResourceDefaultOpts(opts)
	var resource ComputeAcl
	err := ctx.RegisterResource("fastly:index/computeAcl:ComputeAcl", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetComputeAcl gets an existing ComputeAcl resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetComputeAcl(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *ComputeAclState, opts ...pulumi.ResourceOption) (*ComputeAcl, error) {
	var resource ComputeAcl
	err := ctx.ReadResource("fastly:index/computeAcl:ComputeAcl", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering ComputeAcl resources.
type computeAclState struct {
	// A unique name to identify the Compute ACL. It is important to note that changing this attribute will delete and recreate the Compute ACL, and discard the current entries. You MUST first delete the associated resourceLink block from your service before modifying this field.
	Name *string `pulumi:"name"`
}

type ComputeAclState struct {
	// A unique name to identify the Compute ACL. It is important to note that changing this attribute will delete and recreate the Compute ACL, and discard the current entries. You MUST first delete the associated resourceLink block from your service before modifying this field.
	Name pulumi.StringPtrInput
}

func (ComputeAclState) ElementType() reflect.Type {
	return reflect.TypeOf((*computeAclState)(nil)).Elem()
}

type computeAclArgs struct {
	// A unique name to identify the Compute ACL. It is important to note that changing this attribute will delete and recreate the Compute ACL, and discard the current entries. You MUST first delete the associated resourceLink block from your service before modifying this field.
	Name *string `pulumi:"name"`
}

// The set of arguments for constructing a ComputeAcl resource.
type ComputeAclArgs struct {
	// A unique name to identify the Compute ACL. It is important to note that changing this attribute will delete and recreate the Compute ACL, and discard the current entries. You MUST first delete the associated resourceLink block from your service before modifying this field.
	Name pulumi.StringPtrInput
}

func (ComputeAclArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*computeAclArgs)(nil)).Elem()
}

type ComputeAclInput interface {
	pulumi.Input

	ToComputeAclOutput() ComputeAclOutput
	ToComputeAclOutputWithContext(ctx context.Context) ComputeAclOutput
}

func (*ComputeAcl) ElementType() reflect.Type {
	return reflect.TypeOf((**ComputeAcl)(nil)).Elem()
}

func (i *ComputeAcl) ToComputeAclOutput() ComputeAclOutput {
	return i.ToComputeAclOutputWithContext(context.Background())
}

func (i *ComputeAcl) ToComputeAclOutputWithContext(ctx context.Context) ComputeAclOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ComputeAclOutput)
}

// ComputeAclArrayInput is an input type that accepts ComputeAclArray and ComputeAclArrayOutput values.
// You can construct a concrete instance of `ComputeAclArrayInput` via:
//
//	ComputeAclArray{ ComputeAclArgs{...} }
type ComputeAclArrayInput interface {
	pulumi.Input

	ToComputeAclArrayOutput() ComputeAclArrayOutput
	ToComputeAclArrayOutputWithContext(context.Context) ComputeAclArrayOutput
}

type ComputeAclArray []ComputeAclInput

func (ComputeAclArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ComputeAcl)(nil)).Elem()
}

func (i ComputeAclArray) ToComputeAclArrayOutput() ComputeAclArrayOutput {
	return i.ToComputeAclArrayOutputWithContext(context.Background())
}

func (i ComputeAclArray) ToComputeAclArrayOutputWithContext(ctx context.Context) ComputeAclArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ComputeAclArrayOutput)
}

// ComputeAclMapInput is an input type that accepts ComputeAclMap and ComputeAclMapOutput values.
// You can construct a concrete instance of `ComputeAclMapInput` via:
//
//	ComputeAclMap{ "key": ComputeAclArgs{...} }
type ComputeAclMapInput interface {
	pulumi.Input

	ToComputeAclMapOutput() ComputeAclMapOutput
	ToComputeAclMapOutputWithContext(context.Context) ComputeAclMapOutput
}

type ComputeAclMap map[string]ComputeAclInput

func (ComputeAclMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ComputeAcl)(nil)).Elem()
}

func (i ComputeAclMap) ToComputeAclMapOutput() ComputeAclMapOutput {
	return i.ToComputeAclMapOutputWithContext(context.Background())
}

func (i ComputeAclMap) ToComputeAclMapOutputWithContext(ctx context.Context) ComputeAclMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ComputeAclMapOutput)
}

type ComputeAclOutput struct{ *pulumi.OutputState }

func (ComputeAclOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**ComputeAcl)(nil)).Elem()
}

func (o ComputeAclOutput) ToComputeAclOutput() ComputeAclOutput {
	return o
}

func (o ComputeAclOutput) ToComputeAclOutputWithContext(ctx context.Context) ComputeAclOutput {
	return o
}

// A unique name to identify the Compute ACL. It is important to note that changing this attribute will delete and recreate the Compute ACL, and discard the current entries. You MUST first delete the associated resourceLink block from your service before modifying this field.
func (o ComputeAclOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *ComputeAcl) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

type ComputeAclArrayOutput struct{ *pulumi.OutputState }

func (ComputeAclArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ComputeAcl)(nil)).Elem()
}

func (o ComputeAclArrayOutput) ToComputeAclArrayOutput() ComputeAclArrayOutput {
	return o
}

func (o ComputeAclArrayOutput) ToComputeAclArrayOutputWithContext(ctx context.Context) ComputeAclArrayOutput {
	return o
}

func (o ComputeAclArrayOutput) Index(i pulumi.IntInput) ComputeAclOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *ComputeAcl {
		return vs[0].([]*ComputeAcl)[vs[1].(int)]
	}).(ComputeAclOutput)
}

type ComputeAclMapOutput struct{ *pulumi.OutputState }

func (ComputeAclMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ComputeAcl)(nil)).Elem()
}

func (o ComputeAclMapOutput) ToComputeAclMapOutput() ComputeAclMapOutput {
	return o
}

func (o ComputeAclMapOutput) ToComputeAclMapOutputWithContext(ctx context.Context) ComputeAclMapOutput {
	return o
}

func (o ComputeAclMapOutput) MapIndex(k pulumi.StringInput) ComputeAclOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *ComputeAcl {
		return vs[0].(map[string]*ComputeAcl)[vs[1].(string)]
	}).(ComputeAclOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*ComputeAclInput)(nil)).Elem(), &ComputeAcl{})
	pulumi.RegisterInputType(reflect.TypeOf((*ComputeAclArrayInput)(nil)).Elem(), ComputeAclArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*ComputeAclMapInput)(nil)).Elem(), ComputeAclMap{})
	pulumi.RegisterOutputType(ComputeAclOutput{})
	pulumi.RegisterOutputType(ComputeAclArrayOutput{})
	pulumi.RegisterOutputType(ComputeAclMapOutput{})
}
